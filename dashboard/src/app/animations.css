/**
 * Animation utilities and keyframes
 */

/* Tailwind v4 theme extension for animations */
@theme inline {
  --animate-shake: shake 0.4s ease-in-out;

  @keyframes shake {
    10%,
    90% {
      transform: translate3d(-1px, 0, 0);
    }
    20%,
    80% {
      transform: translate3d(2px, 0, 0);
    }
    30%,
    50%,
    70% {
      transform: translate3d(-4px, 0, 0);
    }
    40%,
    60% {
      transform: translate3d(4px, 0, 0);
    }
  }
}

@layer utilities {
  /* Scroll animation for marquee effects */
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  /* Shake animation utility class (alternative implementation) */
  @keyframes shakeUtility {
    0%,
    100% {
      transform: translateX(0);
    }
    10%,
    30%,
    50%,
    70%,
    90% {
      transform: translateX(-3px);
    }
    20%,
    40%,
    60%,
    80% {
      transform: translateX(3px);
    }
  }

  .animate-shake {
    animation: shake 0.4s ease-in-out;
  }

  /* Tab content fade-in animation */
  @keyframes tabContentFadeIn {
    from {
      opacity: 0;
      transform: translateY(4px) translateZ(0);
    }
    to {
      opacity: 1;
      transform: translateY(0) translateZ(0);
    }
  }

  .tab-content-animated[data-state='active'] {
    animation: tabContentFadeIn 0.2s ease-out;
    will-change: opacity, transform;
    backface-visibility: hidden;
  }

  /* Tab indicator sliding transition */
  .tab-indicator {
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
    backface-visibility: hidden;
    transform: translateZ(0);
    contain: layout;
  }

  /* Reduced motion: disable animations for accessibility */
  @media (prefers-reduced-motion: reduce) {
    .tab-content-animated[data-state='active'] {
      animation: none;
    }

    .tab-indicator {
      transition: none;
    }
  }

  /* Gauge component animations */
  .gauge-root {
    --gauge-duration: 700ms;
    --gauge-easing: cubic-bezier(0.4, 0, 0.2, 1);
  }

  .gauge-segment {
    transition: stroke var(--gauge-duration) var(--gauge-easing);
  }

  .gauge-progress {
    stroke-dasharray: var(--path-length);
    stroke-dashoffset: var(--dash-offset);
    transition:
      stroke-dashoffset var(--gauge-duration) var(--gauge-easing),
      stroke var(--gauge-duration) var(--gauge-easing);
    will-change: stroke-dashoffset, stroke;
  }

  @media (prefers-reduced-motion: reduce) {
    .gauge-segment,
    .gauge-progress {
      transition: none;
    }
  }
}
